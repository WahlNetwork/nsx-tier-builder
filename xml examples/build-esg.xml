<edge>
<datacenterMoid>$($moref.datacenter)</datacenterMoid>
<name>$($config.edge.name)</name>
<fqdn>$($config.edge.name)</fqdn>
<tenant>$($config.edge.tenant)</tenant>
<vseLogLevel>emergency</vseLogLevel>
<vnics>
<vnic>
<label>vNic_0</label>
<name>$($config.transit.name)</name>
<addressGroups>
<addressGroup>
<primaryAddress>$($config.transit.edgeip)</primaryAddress>
<subnetMask>$($config.transit.mask)</subnetMask>
</addressGroup>
</addressGroups>
<mtu>1500</mtu>
<type>internal</type>
<isConnected>true</isConnected>
<index>0</index>
<portgroupId>$($switchvwire.get_Item($config.transit.name))</portgroupId>
<enableProxyArp>false</enableProxyArp>
<enableSendRedirects>false</enableSendRedirects>
</vnic>
<vnic>
<label>vNic_1</label>
<name>$($config.edge.uplink.name)</name>
<addressGroups>
<addressGroup>
<primaryAddress>$($config.edge.uplink.ip)</primaryAddress>
<subnetMask>$($config.edge.uplink.mask)</subnetMask>
</addressGroup>
</addressGroups>
<mtu>1500</mtu>
<type>uplink</type>
<isConnected>true</isConnected>
<index>1</index>
<portgroupId>$($moref.edge_uplink)</portgroupId>
<enableProxyArp>false</enableProxyArp>
<enableSendRedirects>true</enableSendRedirects>
</vnic>
</vnics>
<appliances>
<applianceSize>compact</applianceSize>
<appliance>
<resourcePoolId>$($moref.rp)</resourcePoolId>
<datastoreId>$($moref.datastore)</datastoreId>
<vmFolderId>$($moref.folder)</vmFolderId>
</appliance>
</appliances>
<features>
<firewall>
<enabled>$($config.edge.firewall)</enabled>
</firewall>
<highAvailability>
<enabled>$($config.edge.ha)</enabled>
</highAvailability>
</features>
<type>gatewayServices</type>
</edge>